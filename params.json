{"name":"Sky10","tagline":"nginx http2 analysis","body":"`http2的简单分析：`\r\n\r\nhttp1/hspdy/http2的简单对比：   \r\n\r\n  * 1.HTTP/1.1不支持压缩每个请求和相应的HTTP报头。SPDY和后来的HTTP/2旨在使用不同的压缩类型来弥补这个短板。  \r\n  * 2.SPDY使用普通的DEFLATE 算法而HTTP/2使用专门为压缩报头而设计的HPACK算法。它使用预定义的token、动态表以\r\n及哈夫曼压缩。   \r\n\r\n使用http2其性能提高的主要原因就是：      \r\n\r\n   * 1.使用了链路复用技术，也就是说主要通过创建一个浏览器、服务器之间的永久连接来提高速度，而不是每个信息都\r\n创建一个连接。这将降低了建立连接的时间消耗。另外．    \r\n   * 2.其压缩算法好，它使用二进制来传输数据而不是文件，二进制是电脑语言。这说明电脑不需要浪费时间将信息翻译\r\n为它能够理解的形式．\r\n\r\n\r\n\r\n目前nginx原生版本中在1.9.5中已经支持http2了，而且已经将spdy进行移除了．    \r\n```nginx\r\nserver {\r\n\r\nlisten 80;\r\n\r\nlocation / {\r\n\r\nreturn 301 https://$host$request_uri;　//永久重定向\r\n\r\n}\r\n\r\n}\r\n\r\n\r\nserver {\r\n\r\nlisten 443 ssl http2 default_server;\r\n\r\nssl_certificate    server.crt;//相关证书\r\n\r\nssl_certificate_key server.key;//相当于密钥\r\n\r\n}\r\n```\r\nrewrite后面的flag值含义:   \r\n301  permanent 代表永久性转移   \r\n\r\n302  redirect   代表临时性转移     \r\n\r\n\r\n注意其秘钥的管理以及传输的[过程](http://wangfakang.github.io/net2)之前有说过．\r\n\r\n\r\n其实301与302在用户看起来是一样的，具体表现是：效果只是一个跳转，浏览器中旧的URL变成了新的URL。页面跳到了这个新\r\n的url指向的地方。对于浏览器而言：302有可能被认为是一种垃圾广告．    \r\n\r\n\r\n\r\n\r\n\r\n欢迎一起交流学习 \r\n====\r\n \r\n在使用中有任何问题，欢迎反馈给我，可以用以下联系方式跟我交流\r\n\r\n* 邮件(1031379296#qq.com, 把#换成@)\r\n* QQ: 1031379296\r\n* weibo: [@王发康](http://weibo.com/u/2786211992/home)\r\n\r\n\r\nThx\r\n====\r\n\r\n* chunshengsterATgmail.com\r\n\r\n\r\nAuthor\r\n====\r\n* Linux\\nginx\\golang\\c\\c++爱好者\r\n* 欢迎一起交流  一起学习# \r\n* Others say good and Others good\r\n\r\n\r\n","google":"nginx http2 analysis","note":"Don't delete this file! It's used internally to help with page regeneration."}